(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,n){e.exports=n(53)},53:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),u=n(20),o=n(18),s=n(12),i=(n(48),n(38)),p=n(3),f=n.n(p),d=n(17),l=n(6),b=n(8),j=n(37),m=n(35),O=n.n(m),E=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.idToken)}},v=function(e){return{headers:E(),method:"POST",body:JSON.stringify(e)}},h=function(e){return{headers:E(),method:"PUT",body:JSON.stringify(e)}},x=function(e){if(e.status>=400)throw e.json();return e.json()},y=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:E()}).then(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,v(n)).then(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,h(n)).then(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:E(),method:"DELETE"}).then(x);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,A="".concat(U,"/projects"),L=function(e){return"".concat(A,"/").concat(e,"/issues")},T=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat(A));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("".concat(A),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("".concat(A,"/").concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("".concat(A,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat(L(t)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("".concat(L(t)),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(f.a.mark((function e(t,n,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("".concat(L(t),"/").concat(n),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("".concat(L(t),"/").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=f.a.mark(Y),J=f.a.mark(q),B=f.a.mark(F),V="issuedex/issues/LOAD",H="issuedex/issues/CLEAR",M="issuedex/issues/SAVE",G="issuedex/issues/DELETE",W="issuedex/issues/UPDATE_LIST",z=function(e){return{type:W,issues:e}},X=function(e){return e.issues};function Y(e){var t,n,r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.issue,a.next=3,Object(l.d)(X);case 3:if(n=a.sent,!t.id){a.next=12;break}return a.next=7,Object(l.b)(R,t.projectId,t.id,t);case 7:return r=a.sent,a.next=10,Object(l.c)(z(n.map((function(e){return e===t.id?r:e}))));case 10:a.next=17;break;case 12:return a.next=14,Object(l.b)(N,t.projectId,t);case 14:return c=a.sent,a.next=17,Object(l.c)(z([].concat(Object(d.a)(n),[c])));case 17:case"end":return a.stop()}}),S)}function q(e){var t,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.projectId,r.next=3,Object(l.b)(P,t);case 3:return n=r.sent,r.next=6,Object(l.c)(z(n));case 6:case"end":return r.stop()}}),J)}function F(e){var t,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.issue,r.next=3,Object(l.d)(X);case 3:return n=r.sent,r.next=6,Object(l.b)(D,t.projectId,t.id);case 6:return r.next=8,Object(l.c)(z(n.filter((function(e){return e.id!==t.id}))));case 8:case"end":return r.stop()}}),B)}var K=[Object(l.e)(M,Y),Object(l.e)(V,q),Object(l.e)(G,F)],Q=f.a.mark(ne),Z=f.a.mark(re),$=f.a.mark(ce),ee=function(e){return{type:"issuedex/projects/UPDATE_LIST",projects:e}},te=function(e){return e.projects};function ne(e){var t,n,r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.project,a.next=3,Object(l.d)(te);case 3:if(n=a.sent,!t.id){a.next=12;break}return a.next=7,Object(l.b)(I,t.id,t);case 7:return r=a.sent,a.next=10,Object(l.c)(ee(n.map((function(e){return e===t.id?r:e}))));case 10:a.next=17;break;case 12:return a.next=14,Object(l.b)(C,t);case 14:return c=a.sent,a.next=17,Object(l.c)(ee([].concat(Object(d.a)(n),[c])));case 17:case"end":return a.stop()}}),Q)}function re(e){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(T);case 2:return t=e.sent,e.next=5,Object(l.c)(ee(t));case 5:case"end":return e.stop()}}),Z)}function ce(e){var t,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.project,r.next=3,Object(l.d)(te);case 3:return n=r.sent,r.next=6,Object(l.b)(g,t.id);case 6:return r.next=8,Object(l.c)(ee(n.filter((function(e){return e.id!==t.id}))));case 8:case"end":return r.stop()}}),$)}var ae=[Object(l.e)("issuedex/projects/SAVE",ne),Object(l.e)("issuedex/projects/LOAD",re),Object(l.e)("issuedex/projects/DELETE",ce)],ue=f.a.mark(se),oe=Object(s.combineReducers)({issues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.issues;case H:return[];default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"issuedex/projects/UPDATE_LIST":return t.projects;case"issuedex/projects/CLEAR":return[];default:return e}}});function se(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([].concat(Object(d.a)(K),Object(d.a)(ae)));case 2:case"end":return e.stop()}}),ue)}var ie=n(16),pe="/projects",fe="/board/project/:id",de="/404",le=n(23),be=n(24),je=n(26),me=n(25),Oe=n(27),Ee=n(15),ve=function(e){function t(){return Object(le.a)(this,t),Object(je.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(Oe.a)(t,e),Object(be.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.load)()}},{key:"componentWillUnmount",value:function(){(0,this.props.clear)()}},{key:"render",value:function(){var e=this.props,t=e.projects,n=e.destroy,r=e.save;return a.a.createElement("div",null,a.a.createElement("div",null,"Projects"),t.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(Ee.b,{to:"/board/project/".concat(e.id)},e.name),a.a.createElement("div",{onClick:function(){return n(e)}},"DELETE ME"))})),a.a.createElement("div",{onClick:function(){return r({name:"no i kolejny",description:"JAJAJJ super opis"})}},"A TUTAJ DODAM NOWY!!!!"))}}]),t}(a.a.Component),he={load:function(){return{type:"issuedex/projects/LOAD"}},clear:function(){return{type:"issuedex/projects/CLEAR"}},save:function(e){return{type:"issuedex/projects/SAVE",project:e}},destroy:function(e){return{type:"issuedex/projects/DELETE",project:e}}},xe=Object(o.b)((function(e){return{projects:te(e)}}),he)((function(e){return a.a.createElement(ve,e)})),ye=function(e){function t(){return Object(le.a)(this,t),Object(je.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(Oe.a)(t,e),Object(be.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.load)(e.match.params.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.clear)()}},{key:"render",value:function(){var e=this.props,t=e.issues,n=e.destroy,r=e.match,c=e.save,u=r.params.id;return a.a.createElement("div",null,a.a.createElement("div",null,"Board"),a.a.createElement("div",null,a.a.createElement(Ee.b,{to:"/projects"},"Back")),t.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("div",null,e.title),a.a.createElement("div",{onClick:function(){return n(e)}},"DELETE ISSUE"))})),a.a.createElement("div",{onClick:function(){return c({projectId:u,title:"super issue",description:"Opisek"})}},"HAHA DODAJ NEXT"))}}]),t}(a.a.Component),_e={load:function(e){return{type:V,projectId:e}},save:function(e){return{type:M,issue:e}},destroy:function(e){return{type:G,issue:e}},clear:function(){return{type:H}}},ke=Object(ie.g)(Object(o.b)((function(e){return{issues:X(e)}}),_e)((function(e){return a.a.createElement(ye,e)}))),we=function(e){return a.a.createElement("div",null,"NO ACCESS")},Ue=function(){var e=r;return a.a.createElement("div",{id:"app"},"TO JE APP ",e.firstName," - ",e.lastName,a.a.createElement("div",{onClick:function(){return localStorage.removeItem("issuedex-user"),console.debug("User deleted from the local storage"),void(location.href="".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH_URL,"/logout?client_id=").concat(encodeURIComponent(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH_CLIENT_ID),"&logout_uri=").concat(encodeURIComponent("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GUI_URL))))}},"LOGOUT"),a.a.createElement(ie.d,null,a.a.createElement(ie.b,{path:pe},a.a.createElement(xe,null)),a.a.createElement(ie.b,{path:fe},a.a.createElement(ke,null)),a.a.createElement(ie.b,{path:de},a.a.createElement(we,null)),a.a.createElement(ie.a,{to:pe})))},Ae=function(){return a.a.createElement(Ue,null)};!function(){var e=localStorage.getItem("issuedex-user");e?(r=JSON.parse(e),console.debug("User loaded from local storage")):location.href.match(/(?<=id_token=)[^&]*/)?function(){var e=location.href.match(/(?<=id_token=)[^&]*/),t=Object(j.a)(e,1)[0],n=O()(t);r={id:n.sub,login:n.email,firstName:n.name,lastName:n.family_name,idToken:t},localStorage.setItem("issuedex-user",JSON.stringify(r)),console.debug("User login successful."),console.debug("".concat(r.id," ").concat(r.login," ").concat(r.firstName," ").concat(r.lastName))}():(console.debug("User not present in local storage, redirecting to login page"),location.href="".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH_URL,"/login?client_id=").concat(encodeURIComponent(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH_CLIENT_ID),"&redirect_uri=").concat(encodeURIComponent("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GUI_URL)),"&response_type=token&scope=").concat(encodeURIComponent("openid profile email")))}(),setTimeout((function(){var e=function(e){var t=Object(i.a)(),n=Object(s.applyMiddleware)(t),r=Object(s.createStore)(oe,e,n);return t.run(se),r}({});Object(u.render)(a.a.createElement(o.a,{store:e},a.a.createElement(Ee.a,null,a.a.createElement(Ae,null))),document.getElementById("root"))}),500)}},[[39,1,2]]]);
//# sourceMappingURL=main.99a8325f.chunk.js.map